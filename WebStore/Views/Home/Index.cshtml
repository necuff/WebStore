@using WebStore.Infrastructure.Interfaces
@using Microsoft.AspNetCore.Mvc.Localization
@using WebStore.Infrastructure.Mapping
@using AutoMapper

@inject IProductData ProductData
@inject IMapper Mapper

<!-- Сервис локализации -->
@*@inject IViewLocalizer Loc-->*@

<partial name="Partial/_Slider" />
    <section>
        <div class="container">
            <div class="row">
                <div class="col-sm-3">
                    <partial name="Partial/_LeftSideBar" />
                </div>

                <div class="col-sm-9 padding-right">
                    @*<partial name="Partial/_FeaturesItems" model="ProductData.GetProducts().Take(6).ToView().OrderBy(p=>p.Order)" />*@
                    <partial name="Partial/_FeaturesItems" model="ProductData.GetProducts().Take(6).Select(Mapper.Map<ProductViewModel>).OrderBy(p=>p.Order)" />

                    <partial name="Partial/_CategoryTab" />

                    <partial name="Partial/_RecommendedItems" />

                </div>
            </div>
        </div>
    </section>